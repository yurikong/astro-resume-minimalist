---
import type { IWork } from "~types/work"
import YearRange from "~components/YearRange.astro"
import AppLink from "~components/AppLink.astro"
import Tag from "~components/Tag.astro"

interface Props extends IWork {}
const { jobTitle, company, companyHomepage, description, projects, technologiesUsed, startYear, endYear } = Astro.props
---

<!-- Employed Years -->
<YearRange class:list={["text-xs", "tracking-wide", "uppercase", "py-2"]} startYear={startYear} endYear={endYear} />

<!-- Job Title & Company -->
<AppLink
  class:list={["block", "font-medium", "text-gray-800", "dark:text-gray-300"]}
  url={companyHomepage}
  showSuffixIcon
>
  {jobTitle} Â· {company}
</AppLink>

<!-- Description -->
<p class:list={["text-sm", "leading-relaxed", "mt-2"]}>{description}</p>

<!-- Products -->
{
  !!projects && projects.length > 0 && (
    <ul class:list={["flex", "flex-wrap", "gap-x-4", "gap-y-2", "mt-4"]}>
      {projects.map((it) => (
        <li
          class:list={[
            "font-medium",
            "text-sm",
            "text-nowrap",
            "leading-normal",
            "text-gray-700",
            "dark:text-gray-400",
          ]}
        >
          <AppLink url={it.url} showPrefixIcon>
            {it.name}
          </AppLink>
        </li>
      ))}
    </ul>
  )
}

<!-- Technologies Used -->
<ul class:list={["flex", "flex-wrap", "gap-x-1.5", "gap-y-2", "mt-4"]}>
  {
    technologiesUsed.map((it) => (
      <li>
        <Tag text={it} />
      </li>
    ))
  }
</ul>
